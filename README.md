# pinger-axum

## Docker
1. `Dockerfile` - сборка с оптимизацией в статически слинкованный бинарь: маленький образ, но собирается медленно (порядка 6 минут)
2. `Dockerfile.local` - сборка дебажной версии без статической линковки: тяжелый образ, но собирается значительно быстрее


## Формат сетей (переменная NETWORKS)

`x.x.x.x/y[,offset,limit]; ...`

где
- `x.x.x.x` - адрес
- `y` - маска
- `offset` - опционально, первый адрес в подсети
- `limit` - опционально, последний адрес в подсети

разделитель между сетями - `;`

Пример: `192.168.0.0/16,1,254;127.0.0.0/8`

## Переменные среды

Все временные промежутки в секундах

`TARGET_PORT=80`:
порт к которому будет производиться коннект на всех устройствах

`CONNECT_TIMEOUT=5`: таймаут ожидания ответа от устройства

`PING_PERIOD=120`: перерыв между циклами опроса

`FORGET_METRIC_TIMEOUT=150`: длительность хранения неактивных метрик для экспортирования, после которого метрика перестанет уходить
